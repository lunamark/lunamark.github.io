<!DOCTYPE html>
<html>
    <head>
    <meta name="p:domain_verify" content="9014f386d3ae48f3e6761184cc355bd7"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frustration with Umbraco Nested Content &mdash; Lunamark</title>

    <link href="//fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet" type="text/css">

    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    
    <!-- Bootstrap -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <!-- Bootstrap Optional theme -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">
        
    <link type="text/css" rel="stylesheet" href="/assets/main.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
    <!-- <link rel="apple-touch-icon" href="/images/logo-H.png"/> -->
    <link href="/feed.xml" rel="alternate" type="application/rss+xml" title="Lunamark" />
    <meta name="title" content="Frustration with Umbraco Nested Content ">
    <link rel="canonical" href="http://lunamark.github.io/Frustration-with-Umbraco-Nested-Content.html">
 
       
    <meta property="og:title" content="Frustration with Umbraco Nested Content "/>
    <meta property="og:url" content="http://lunamark.github.io/Frustration-with-Umbraco-Nested-Content.html"/>

    <meta property="og:image" content="http://lunamark.github.io/images/frustrated.jpg"/>

    <meta property="og:image" content="http://lunamark.github.io/images/logo-H.png"/>   

    <meta property="og:description" content="In a more recent project, I discovered that the Nested Content control I have grown to love did not work the way I had initially thought."/>
    <meta name="description" content="In a more recent project, I discovered that the Nested Content control I have grown to love did not work the way I had initially thought."/>

    <meta property="og:site_name" content="Lunamark">


    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-M9XWBGD');</script>
    <!-- End Google Tag Manager -->
         
</head>

    <body>
        
            <!-- Google Tag Manager (noscript) -->
            <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M9XWBGD" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
            <!-- End Google Tag Manager (noscript) -->
        

        <section class="site-nav">
    <header>
        <nav id="navigation">
            <a class="brand" href="/">
                <img src="/images/logo-H.png" alt="Logo">
            </a>
            <a href="/articles/" class="home">Articles</a>
            <a href="/services/">Services</a>
            <a href="/speaking.html">Speaking</a>
            <a href="/about.html">About</a>
        </nav>
        <!--<nav class="tagline">
            <span>Want to learn how to ship features to your software faster?</span>
            <a href="/roadmap.html" class="btn btn-outline">Learn More</a>
        </nav>-->
    </header>
</section>


        
<div class="article-cover">
    <div>
        <img src="/images/frustrated.jpg" class="image">
    </div>
</div>

<article class="container">
    <header>
        <div class="meta">
            By <address><a rel="author" href="" title="Paul Gower" target="_blank">Paul Gower</a></address> &mdash;
            <time pubdate datetime="2016-08-July" title="July 08, 2016">July 08, 2016</time>
        </div>
        <h1 class="title">Frustration with Umbraco Nested Content</h1>
        
    </header>

    <section>
        <p>Over the past several months, I have been using <a href="//umbraco.com">Umbraco</a> with a few clients and have really enjoyed getting to know the platform.  <em>So please understand that although I have over 15 years experience developing in C#.NET, I am still learning about the best way to do things in Umbraco</em>.</p>

<p><strong>Update:</strong> <a href="/Use-ListView-to-Add-Child-Nodes.html">Go here</a> to see the solution I decided to use to solve this frustration.  After writing this article I decided to not use the Nested Content plugin at all and was able to actually use the built-in Umbraco controls.</p>

<p>##I need a way to associate a Nested Content node to an Umbraco Member</p>

<p>In a more recent project, I discovered that the <a href="//our.umbraco.org/projects/backoffice-extensions/nested-content/">Nested Content</a> control, I have grown to love, did not work the way I had initially thought.  I knew it stored the data in a JSON string for the property but it had never dawned on me that it didn’t create the <strong>nodes in Umbraco</strong>.  My initial thought was to create an <a href="//umbraco.com/follow-us/blog-archive/2012/12/7/getting-to-know-umbraco-relations/">Umbraco Relation</a> and associate the Umbraco Member to the Nested Content node.  Sadly, I found this <a href="//our.umbraco.org/projects/backoffice-extensions/nested-content/nested-content-feedback/63488-does-nested-content-get-an-id-value">form post asking a similar question</a> and as you can see in Matt Bailsford’s first response:</p>

<blockquote>
  <p>Unfortunately nested content can’t have an ID value as they don’t truely exist</p>
</blockquote>

<p>I did find the <a href="//github.com/leekelleher/umbraco-nested-content/issues/7">issue/feature</a> that was discussed in the forum post; however, it just adds parent information to the <code>DetachedPublishedContent</code> object and doesn’t solve my issue.  After reading the form post and the conversations of <a href="//github.com/Hendy">Hendy Racher</a>, <a href="//github.com/mattbrailsford">Matt Bailsford</a> and <a href="//github.com/leekelleher">Lee Kelleher</a> in the <a href="//github.com/leekelleher/umbraco-nested-content/pull/8">github pull request</a>, I still don’t understand why Nested Content doesn’t <em>create a node in Umbraco</em>.</p>

<p>So basically I need the Nested Content nodes <strong>to be created as Umbraco nodes</strong> and <em>then</em> stored as a JSON string in the property field.  There are a few ways that I see this could be accomplished:</p>

<ol>
  <li>
    <p><strong>Create a Custom Property Editor for Umbraco Backoffice</strong> - I would start with a copy of Nested Content and add code to create the node and attach it before saving the node as a JSON string.</p>
  </li>
  <li>
    <p><strong>Use the <a href="//our.umbraco.org/documentation/getting-started/backoffice/property-editors/built-in-property-editors/multinode-treepicker">Umbraco Multinode Treepicker control</a></strong> - This control was suggested by Hendy and Jeavon in <a href="//our.umbraco.org/forum/umbraco-7/using-umbraco-7/55537-Multiple-Content-Picker-in-Umbraco-7">this forum post</a> as a way to allow a user to select multiple content nodes.  Unfortunately going this route would require the user to create the “nested content” nodes first.  Then they could associate those “nested content” nodes with the original node.  We really like the user experience of the Nested Content control where it allows you to create nodes dynamically in the property editor.</p>
  </li>
  <li>
    <p><strong>Find a way to associate the Member to the “Nested Content” node</strong> - This option would require that I store an association between the top node and it’s respective “nested content” node to a Member in Umbraco.  There are two issues that come to mind when trying to go this route:</p>
    <ol>
      <li><em>How should I associate the “nested content” node to the Member in a standard Umbraco way?</em> - I immediately think of creating a link table in the database but, in my understanding, that is not the standard Umbraco way.  I am still fuzzy about the best way to do this inside Umbraco.</li>
      <li><em>Is there a way to uniquely identify the “nested content” node?</em> - I realize there is a sort order value being set according to the pull request I found above but if the user reorders the nested content items will it change the “nested content” node to member association?</li>
    </ol>
  </li>
</ol>

<p>At this point, I am leaning towards going with <strong>option 1</strong>, but I want to <em>investigate option 3</em> a little more as well.  Also I don’t believe this is a new problem that someone hasn’t already solved, and I hate to create another custom property editor if there is one just like it out there already.</p>

<p><strong>So if you know of a better way to solve this problem please let me know.</strong>  Sound off in the comments below or reach out to me via <a href="//twitter.com/paulmgower">Twitter</a> or <a href="//linkedin.com/in/pmgower">LinkedIn</a>!</p>

<p>Once I develop or discover the best solution to this problem, I will write another article about how the solution was implemented and update this article to link to it.</p>

        
<div class="social">
    <div>
        <a href="https://twitter.com/share" class="twitter-share-button"  data-text="Frustration with Umbraco Nested Content" data-related="paulmgower">Tweet</a>
    </div>
    
    
    <div>
        <div class="fb-like" data-width="150" data-layout="button_count" data-action="like" data-show-faces="true" data-send="false"></div>
    </div>
    
    
    
    
</div>

    </section>

    <footer>
        <address>
            <img src="/images/paul.jpg">
            <p>Written by <strong><a rel="author" href="https://twitter.com/paulmgower" title="" target="_blank">Paul Gower</a></strong><br>
            <span class="muted">Principal Consultant / Owner, Lunamark</span>
            </p>
        </address>
    </footer>

    
    <section>
        <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'lunamark'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
    </section>
    
</article>


        <footer class="site-footer">
    <div class="container">
        <nav>
            <a href="/">Lunamark</a> &middot;
            <a href="/articles/">Articles</a> &middot;
            <a href="/services/">Services</a> &middot;
            <a href="/speaking.html">Speaking</a> &middot;
            <a href="/about.html">About</a>
        </nav>
        
        <nav class="social">
            
            <a href="https://twitter.com/paulmgower" title="Follow on Twitter" target="_blank"><i class="icon icon-twitter black"></i></a>
            
                
            <a href="/feed.xml" title="RSS Feed">
                <i class="icon icon-rss black"></i>
            </a>
        </nav>
    </div>
    <div class="container">
    <p class="copyright text-muted small">Copyright &copy; 2020 Lunamark All Rights Reserved</p> 
</div>

</footer>

        <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
<script type="text/javascript" src="/assets/lib/jqBootstrapValidation.js"></script>
<script type="text/javascript" src="/assets/main.js"></script>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=253595308025739";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>






    </body>
</html>
